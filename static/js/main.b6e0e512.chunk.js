(this.webpackJsonpant_hydrotable=this.webpackJsonpant_hydrotable||[]).push([[0],{108:function(e,t){},158:function(e,t,n){},164:function(e,t){},165:function(e,t){},280:function(e,t,n){"use strict";n.r(t);var r=n(29),a=n(0),c=n.n(a),o=n(26),i=n.n(o),u=(n(158),n(101)),s=n.n(u),l=n(126),d=n(57),f=n(149),b=n(284),h=n(55),j=n(283),p=n(56),v=n.n(p),O=(n(166),function(){return window.innerWidth>650}),x=Object(a.memo)((function(e){var t=e.record;return void 0===t?Object(r.jsx)("div",{children:"-"}):t.map((function(e){var t,n,a;return null!==e.status&&e.status.includes("final")&&(t=Object(r.jsx)(b.a,{color:"green",children:"Received"})),null!==e.status&&e.status.includes("preliminary")&&(n=Object(r.jsx)(b.a,{color:"yellow",children:"Submitted"})),null!==e.status&&e.status.includes("not_yet")&&(a=Object(r.jsx)(b.a,{color:"red",children:"Not Received"})),null!==e.href?Object(r.jsxs)("div",{children:[t,n,a," ",Object(r.jsx)("a",{href:e.href,children:e.text})]}):Object(r.jsxs)("div",{children:[t,n,a," ",e.text]})}))}));function m(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace("Janurary","01")).replace("February","02")).replace("March","03")).replace("April","04")).replace("May","05")).replace("June","06")).replace("July","07")).replace("August","08")).replace("September","09")).replace("October","10")).replace("November","11")).replace("December","12")}var y=function(e){if("Dates"===e)return function(t,n){var r=m(t[e][0].text),a=m(n[e][0].text);return r>a?-1:r<a?1:0}};var g=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)([]),i=Object(d.a)(o,2),u=i[0],b=i[1],p=Object(a.useState)("ascend"),m=Object(d.a)(p,2),g=m[0],w=m[1],_=Object(a.useState)(!0),C=Object(d.a)(_,2),S=C[0],E=C[1],k=Object(a.useState)(O()),D=Object(d.a)(k,2),F=D[0],A=D[1];Object(a.useEffect)((function(){Object(l.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://hydrotable.cchdo.io/hydrotable/json");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,c(n.columns),b(n.rows),E(!1);case 9:case"end":return e.stop()}}),e)})))()}),[]),Object(a.useEffect)((function(){window.addEventListener("resize",(function(){O()?A(!0):A(!1)}))}),[]);var J=n.map((function(e){var t=function(e,t){var n=["final","preliminary","not_yet"];return t.map((function(t){return t[e]})).flat().filter((function(e){return void 0!==e})).some((function(e){return n.some((function(t){return null!==e.status&&e.status.includes(t)}))}))}(e,u);return{title:e,dataIndex:e,key:e,width:260,fixed:"Cruise"===e&&F,render:function(e){return Object(r.jsx)(x,{record:e})},sorter:y(e),sortOrder:"Dates"===e?g:void 0,filters:t?[{text:"Received",value:"final"},{text:"Submitted",value:"preliminary"},{text:"Not Received",value:"not_yet"}]:void 0,onFilter:function(t,n){var r=n[e];if(void 0===r)return!1;for(var a=0;a<r.length;a++){var c=r[a];if(null!==c.status&&c.status.includes(t))return!0}return!1}}}));return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(h.a,{disabled:S,type:"primary",shape:"round",onClick:function(){return function(e,t){var n=t.sort(y("Dates")),r={},a=n.map((function(t,n){return e.map((function(e,a){var c=t[e];if(void 0!==c)return c.forEach((function(t){if(e.includes("Expocode")&&null!==t.href){var c=String.fromCharCode(a+"A".charCodeAt(0)),o="".concat(c).concat(n+2);r[o]=t.href}})),c.map((function(e){return e.text})).join("; ")}))})),c=v.a.utils.book_new(),o=v.a.utils.aoa_to_sheet([e].concat(Object(f.a)(a)));Object.entries(r).forEach((function(e){var t=Object(d.a)(e,2),n=t[0],r=t[1];return o[n].l={Target:r,Tooltip:"Goto CCHDO Cruise page"}})),v.a.utils.book_append_sheet(c,o,"Hydrotable");var i=[];n.forEach((function(t){var n=t.Cruise[0].text;return e.forEach((function(e){var r=t[e];void 0!==r&&r.forEach((function(t){null!==t.status&&t.status.includes("not_yet")&&i.push([t.text,e,n])}))}))}));var u=v.a.utils.aoa_to_sheet([["PI","Param","Cruise"]].concat(i));v.a.utils.book_append_sheet(c,u,"Not Received"),v.a.writeFile(c,"hydrotable.xlsx")}(n,u)},children:"Download XLSX"}),Object(r.jsx)(j.a,{loading:S,columns:J,dataSource:u,size:"small",scroll:{x:J.reduce((function(e,t){return e+t.width}),0)},sticky:!0,pagination:!1,onChange:function(e,t,n){return w(n.order)}})]})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,285)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))};i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(g,{})}),document.getElementById("root")),w()}},[[280,1,2]]]);
//# sourceMappingURL=main.b6e0e512.chunk.js.map